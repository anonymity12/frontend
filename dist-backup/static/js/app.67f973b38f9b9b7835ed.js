webpackJsonp([1],{"/N6+":function(e,t){},"/fYo":function(e,t){},"0bnz":function(e,t){},"202W":function(e,t){},"3CNq":function(e,t){},"4cbW":function(e,t){},"9wuV":function(e,t){},HiCW:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("7+uW"),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"background-color":"rgba(235, 235, 235, 0.08)"},attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var r=a("VU/8")({name:"App"},o,!1,function(e){a("xJFc")},null,null).exports,s=a("/ocq"),i=a("//Fk"),l=a.n(i),c=a("mtWM"),u=a.n(c),d=a("mvHQ"),f=a.n(d),p=a("NYxO");n.default.use(p.a);var m=new p.a.Store({state:{token:sessionStorage.getItem("token"),user:JSON.parse(sessionStorage.getItem("user"))},mutations:{SET_TOKENN:function(e,t){e.token=t,sessionStorage.setItem("token",t)},SET_USER:function(e,t){e.user=t,sessionStorage.setItem("user",f()(t))},SET_USER_COSMOS_ID:function(e,t){e.user.name=t,sessionStorage.setItem("user",f()(e.user))},REMOVE_INFO:function(e){e.token="",e.user={},sessionStorage.setItem("token",""),sessionStorage.setItem("user",f()(""))}},getters:{},actions:{},modules:{}}),h=u.a.create({baseURL:"http://101.43.166.211:8081"});h.interceptors.request.use(function(e){return m.state.token&&(e.headers.token=window.sessionStorage.getItem("token")),e},function(e){return console.log("request interceptor complain: ",e),l.a.reject(e)}),u.a.interceptors.response.use(function(e){return e},function(e){return console.log(e),e.response.data&&(e.message=e.response.data.msg),401===e.response.status&&router.push("/login"),l.a.reject(e)});var g=h;function v(e,t){return g({url:"/api/sixlog/"+e+"/"+t,method:"get"})}function b(){return g({url:"/api/sixlog/getTotalAmount",method:"get"})}function _(e){return g({url:"/api/sixlog/covers",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}})}function y(){return g({url:"/api/user/profile",method:"get"})}var w=a("BO1k"),x=a.n(w),j={name:"AddFly",props:{dialogAdd:Object,owner:""},data:function(){return{formDate:{date:new Date,evaluate:"",type:""},evaluates:[{value:"99",label:"没有刷牙"},{value:"98",label:"吃饭不积极"},{value:"97",label:"看视频超过半个小时"},{value:"101",label:"今天刷牙了"},{value:"102",label:"画了一幅画"},{value:"103",label:"早上对爷爷说了一句早上好"},{value:"104",label:"拿起来扫把"},{value:"105",label:"我今天很开心"},{value:"106",label:"做了一件好事"},{value:"107",label:"昨天晚上我10点前睡觉了"},{value:"108",label:"晚上我刷牙了"},{value:"109",label:"我看了一会儿书"},{value:"110",label:"下午我和朋友玩了"},{value:"111",label:"跳了舞蹈"},{value:"112",label:"完成了学校的作业"},{value:"113",label:"我学了一首歌"},{value:"114",label:"我背会了古诗"},{value:"115",label:"下午我笑了3次"},{value:"116",label:"下午我画画了"},{value:"117",label:"中午好好吃饭了"},{value:"118",label:"吃饭前洗手了"},{value:"119",label:"帮奶奶扫地了"},{value:"120",label:"帮奶奶洗碗了"}],good_one:"https://picgorepo.oss-cn-beijing.aliyuncs.com//2022-11-29-11-34-37README.png",bad_one:"https://picgorepo.oss-cn-beijing.aliyuncs.com//2022-11-29-11-34-29README.png",types:[{value:"https://picgorepo.oss-cn-beijing.aliyuncs.com//2022-11-29-11-34-37README.png",label:"蝴蝶公主"},{value:"https://picgorepo.oss-cn-beijing.aliyuncs.com//2022-11-29-11-34-29README.png",label:"蝴蝶黑娃"},{value:"https://picgorepo.oss-cn-beijing.aliyuncs.com/img_repo_2021-12-13-12-59-13.png",label:"时间大师"}],formrules:{date:[{required:!0,type:"date",message:"何时领养蝴蝶不能为空",trigger:"blur"}],evaluate:[{required:!0,message:"具体事情不能为空",trigger:"blur"}]}}},methods:{dialogFormAdd:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error when submit: not valid input in form"),!1;var a=null,n=!0,o=!1,r=void 0;try{for(var s,i=x()(t.evaluates);!(n=(s=i.next()).done);n=!0){var l=s.value;l.value==t.formDate.evaluate&&(a=l.label)}}catch(e){o=!0,r=e}finally{try{!n&&i.return&&i.return()}finally{if(o)throw r}}var c,u,d=["可爱绘画蝴蝶","优美歌声蝴蝶","Canada蝴蝶","快乐舞蹈的蝴蝶"],f=d.length,p=Math.floor(Math.random()*f),m=t.formDate.evaluate>100?d[p]:["得病的蝴蝶","喉咙嘶哑的蝴蝶","垃圾蝴蝶","悲伤的蝴蝶"][p],h={date:t.formDate.date,name:m,evaluate:a,image:t.formDate.evaluate>100?t.good_one:t.bad_one};(c=t.owner,u=h,g({url:"/flies/"+c+"/newItem",method:"post",data:u})).then(function(e){t.$message({type:"success",message:"你获得了新蝴蝶！"}),t.dialogAdd.show=!1,t.$emit("update")}),t.formDate={}})}}},k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"饲养新蝴蝶",visible:e.dialogAdd.show,width:"100%"},on:{"update:visible":function(t){return e.$set(e.dialogAdd,"show",t)}}},[a("el-form",{ref:"formdong",attrs:{model:e.formDate,"label-width":"100px",rules:e.formrules}},[a("el-form-item",{attrs:{label:"日期",prop:"date"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.formDate.date,callback:function(t){e.$set(e.formDate,"date",t)},expression:"formDate.date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"请选择事情",prop:"evaluate"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formDate.evaluate,callback:function(t){e.$set(e.formDate,"evaluate",t)},expression:"formDate.evaluate"}},e._l(e.evaluates,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label))]),e._v(" "),a("img",{staticStyle:{width:"20px",height:"20px"},attrs:{src:t.value>100?e.good_one:e.bad_one}})])}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"你会得到 ："}},[a("span",[e._v(e._s(e.formDate.evaluate>100?"花蝴蝶":"黑蝴蝶"))]),e._v(" "),a("img",{staticStyle:{width:"30px",height:"30px"},attrs:{src:e.formDate.evaluate>100?e.good_one:e.bad_one}})])],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogAdd.show=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.dialogFormAdd("formdong")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var S=a("VU/8")(j,k,!1,function(e){a("PnLf")},"data-v-03b05f72",null).exports,F={name:"edit",props:{dialogEdit:Object,form:Object},data:function(){return{options:[{value:"https://picgorepo.oss-cn-beijing.aliyuncs.com//2022-11-29-11-34-37README.png",label:"蝴蝶公主"},{value:"https://picgorepo.oss-cn-beijing.aliyuncs.com//2022-11-29-11-34-29README.png",label:"蝴蝶黑娃"},{value:"https://picgorepo.oss-cn-beijing.aliyuncs.com/img_repo_2021-12-13-12-59-13.png",label:"时间大师"}],value:"",formrules:{name:[{require:!0,message:"蝴蝶名字不能为空",trigger:"blur"}]}}}},$={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"编辑蝴蝶信息",visible:e.dialogEdit.show},on:{"update:visible":function(t){return e.$set(e.dialogEdit,"show",t)}}},[a("el-form",{ref:"formEdit",attrs:{model:e.form,rules:e.formrules}},[a("el-form-item",{attrs:{label:"日期",prop:"date"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"名字",prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"评价",prop:"evaluate"}},[a("el-input",{model:{value:e.form.evaluate,callback:function(t){e.$set(e.form,"evaluate",t)},expression:"form.evaluate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"图样",prop:"image"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label))]),e._v(" "),a("img",{staticStyle:{width:"20px",height:"20px"},attrs:{src:t.value}})])}),1)],1)],1),e._v(" "),a("p",[e._v("sldkfj")])],1)],1)},staticRenderFns:[]};var z=a("VU/8")(F,$,!1,function(e){a("0bnz")},"data-v-40a8e261",null).exports,E={name:"edit",props:{dialogParent:Object},data:function(){return{formData:{parent_passwd:""},formrules:{passOfParent:[{require:!0,message:"请输入正确的家长密码",trigger:"blur"}]},loading:!1}},methods:{dialogParentValid:function(){var e=this;this.$refs.formPass.validate(function(t){if(!t)return console.log("not valid input"),!1;var a;e.loading=!0,(a=e.formData,g({url:"/users/validParent",method:"post",data:a})).then(function(t){e.loading=!1,console.log("res is: ",t),200==t.data.status?(e.$message({type:"success",message:t.data.msg}),e.dialogParent.show=!1,e.$emit("validOk")):e.$alert("家长身份 验证失败!","错误密码")}),e.formData={}})}}},U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"家长模式验证",visible:e.dialogParent.show},on:{"update:visible":function(t){return e.$set(e.dialogParent,"show",t)}}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"formPass",attrs:{model:e.formData,rules:e.formrules}},[a("el-form-item",{attrs:{label:"密码",prop:"parent_passwd"}},[a("el-input",{model:{value:e.formData.parent_passwd,callback:function(t){e.$set(e.formData,"parent_passwd",t)},expression:"formData.parent_passwd"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogParent.show=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.dialogParentValid()}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var D={name:"info",props:["flyOwner"],data:function(){return{img_url:"https://picgorepo.oss-cn-beijing.aliyuncs.com/img_repo_2021-12-13-12-59-13.png",tableData:[],dialogEdit:{show:!1},dialogAdd:{show:!1},dialogParent:{show:!1},keyUser:"",form:{date:"",name:"",title:"",evaluate:"",image:""},myRank:"99",parent_flag:!1,parent_button_text:"进入家长模式",currentPage:1,total:100,pageSize:5}},watch:{parent_flag:function(e,t){1==e?this.parent_button_text="退出家长模式":0==e&&(this.parent_button_text="进入家长模式",this.getFlyInfo())}},methods:{callGetMyRank:function(){var e,t=this;(e=this.flyOwner,g({url:"/ranks/"+e+"/getMyRank",method:"get"})).then(function(e){t.myRank=e.data})},callGetFlyInfo:function(){var e,t=this;(e=this.flyOwner,g({url:"/flies/"+e+"/getAll",method:"get"})).then(function(e){console.log("butterfly info",e),t.tableData=e.data})},validSuccess:function(){this.parent_flag=!0},handleRefresh:function(){this.callGetFlyInfo(),this.callGetMyRank()},handleAdd:function(){this.dialogAdd.show=!0},handleGrow:function(e,t){var a,n=this;(a=""+t.id,g({url:"/flies/growStatus/"+a,method:"post"})).then(function(e){200==e.data.status?(n.$message({type:"success",message:e.data.msg}),t.status):n.$message({type:"warning",message:e.data.msg})})},handleRelease:function(e,t){var a,n=this;(a=""+t.id,g({url:"/flies/releaseStatus/"+a,method:"post"})).then(function(e){200==e.data.status?(n.$message({type:"success",message:e.data.msg}),t.status):n.$message({type:"warning",message:e.data.msg})})},searchFlyInfo:function(e){return this.tableData.filter(function(t){if(t.name.includes(e))return t})},handleParentMode:function(){0==this.parent_flag?this.dialogParent.show=!0:(this.dialogParent.show=!1,this.parent_flag=!1,this.callGetFlyInfo())},handleSizeChange:function(e){console.log("now each page has "+e+" items"),this.currentPage=1,this.pageSize=e},handlePageChange:function(e){console.log("now we are at page "+e),this.currentPage=e},rowStyle:function(e){var t=e.row;e.rowIndex;return 1==t.status?{background:"linear-gradient(235deg,#bc6daf4f,#95b5179c,#00bbd496)"}:-1==t.status?{background:"linear-gradient(90deg,#180125b3,#4d5334a4,#2d2c2c96)"}:{}},tableHeaderStyle:function(e){e.row,e.column,e.rowIndex,e.columnIndex;return"background-color:#1989fa;color:#fff;font-weight:400;"}},created:function(){this.callGetFlyInfo(),this.callGetMyRank()},components:{AddFly:S,EditFly:z,ValidParent:a("VU/8")(E,U,!1,function(e){a("Y8zk")},"data-v-2a6bad8a",null).exports}},I={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info"},[a("div",[a("h3",[e._v("我管理的蝴蝶园")]),e._v(" "),a("p",[e._v("园子里今天有 "+e._s(e.tableData.length)+" 个蝴蝶")])]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:20,push:2}},[a("div",[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{staticStyle:{float:"left"}},[a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-coordinate"},on:{click:function(t){return e.handleParentMode()}}},[e._v(e._s(e.parent_button_text)+"\n                        ")])],1),e._v(" "),a("el-form-item",{staticStyle:{float:"center"}},[a("el-button",{attrs:{type:"primary",size:"large",icon:"el-icon-refresh-left"},on:{click:function(t){return e.handleRefresh()}}},[e._v("刷新\n                        ")])],1),e._v(" "),a("el-form-item",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary",size:"large",icon:"el-icon-edit-outline"},on:{click:function(t){return e.handleAdd()}}},[e._v("添加蝴蝶🦋\n                        ")])],1)],1)],1),e._v(" "),a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize),border:"","header-cell-style":e.tableHeaderStyle,"row-style":e.rowStyle}},[a("el-table-column",{attrs:{label:"蝴蝶图案",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{attrs:{src:e.row.image,"min-width":"30",width:"60",height:"60"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"蝴蝶来源",align:"left",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.evaluate))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"蝴蝶名字",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"诞生时间",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("moment")(t.row.date)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"家长操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",disabled:!e.parent_flag},on:{click:function(a){return e.handleGrow(t.$index,t.row)}}},[e._v("成年礼")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger",disabled:!e.parent_flag},on:{click:function(a){return e.handleRelease(t.$index,t.row)}}},[e._v("放生它")]),e._v(" "),a("span",[e._v("蝴蝶上次状态："+e._s(t.row.status))])]}}])})],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{"margin-top":"15px"}},[a("el-pagination",{attrs:{align:"center","current-page":e.currentPage,"page-sizes":[1,5,10,20],"page-size":e.pageSize,layout:"total, prev, pager, next",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handlePageChange}})],1)],1)])],1),e._v(" "),a("div",[a("p",[e._v("谁的蝴蝶多，谁就是优秀的蝴蝶管理家!你现在的排名是：")]),e._v(" "),a("h2",[e._v(e._s(e.myRank))]),e._v(" "),a("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:"https://picgorepo.oss-cn-beijing.aliyuncs.com//2022-12-01-18-29-10README.png"}}),e._v(" "),a("br"),e._v(" "),a("a",{attrs:{href:"/#/valley"}},[e._v("进入秘密王国")])]),e._v(" "),a("AddFly",{attrs:{dialogAdd:e.dialogAdd,owner:e.flyOwner},on:{update:e.callGetFlyInfo}}),e._v(" "),a("EditFly",{attrs:{dialogEdit:e.dialogEdit,form:e.form},on:{updateEdit:e.callGetFlyInfo}}),e._v(" "),a("ValidParent",{attrs:{dialogParent:e.dialogParent},on:{validOk:e.validSuccess}})],1)},staticRenderFns:[]};var R=a("VU/8")(D,I,!1,function(e){a("vwVd")},"data-v-159de055",null).exports,P={name:"Baibao",props:{boxShow:Object},data:function(){return{fits:["fill","contain","cover","none","scale-down","fill","contain","cover","none","scale-down"],url:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg",gridData:[{date:"2010-05-02",name:"浮生六记",address:"民权一高",value:"¥5400998",link:"/sixlog"},{date:"2020-05-02",name:"发光石",address:"白银市日落大道",value:"¥900"},{date:"2019-05-04",name:"水仙花精灵🧚‍♀️",address:"新疆阿拉尔市月光大道",value:"¥3990"},{date:"2021-07-01",name:"舞蹈的小猴子🐒",address:"上海市普陀区金沙江路 1518 弄",value:"¥1990"},{date:"2019-05-13",name:"昕昕的朋友天线兵的臭袜子",address:"北湾镇的河沟",value:"¥5"},{date:"2021-08-03",name:"火焰彩环🔥",address:"小学操场北部",value:"¥885"},{date:"2012-05-13",name:"外星人的收音机📻",address:"北湾镇的山洞",value:"¥9999999"}]}},methods:{handleOpen:function(e,t){console.log("row has link? :",t.link),t.link?(console.log("goes to sixlog now"),this.$router.push({path:"/sixlog"})):console.log("no extra link")}}},O={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"百宝箱",visible:e.boxShow.show,width:"100%"},on:{"update:visible":function(t){return e.$set(e.boxShow,"show",t)}}},[a("p",[e._v("温馨提示：获得的蝴蝶越多，它们帮你找到的宝藏越多哦！")]),e._v(" "),a("el-table",{attrs:{data:e.gridData,height:"290"}},[a("el-table-column",{attrs:{property:"date",label:"发现日期",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{property:"name",label:"宝藏名字",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{property:"address",label:"发现地点"}}),e._v(" "),a("el-table-column",{attrs:{property:"value",label:"宝藏价值"}}),e._v(" "),a("el-table-column",{attrs:{property:"link",label:"开启宝藏"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit-outline"},on:{click:function(a){return e.handleOpen(t.$index,t.row)}}},[e._v("\n                        打开\n                    ")])]}}])})],1)],1)],1)},staticRenderFns:[]};var C=a("VU/8")(P,O,!1,function(e){a("y4yP")},null,null).exports,A={name:"app",data:function(){return{pageOwner:"yy",boxShow:{show:!1},user:{birthday:"",name:"",cname:"",intro:"",userface:"",address:"",phone:""}}},methods:{startHacking:function(){this.$notify({title:"打开百宝箱ing",type:"success",message:"请等待",duration:5e3}),this.boxShow.show=!0},handleBox:function(){this.boxShow.show=!0},getOwnerInfo:function(){var e=this,t="http://101.43.166.211:8081/users/"+this.pageOwner+"/getInfo";this.$axios.get(t).then(function(a){console.log("request for user info from: "+t),e.user=a.data})}},created:function(){this.getOwnerInfo()},components:{ButterFlyInfo:R,Baibao:C}},V={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("el-row",{attrs:{type:"flex",align:"bottom",justify:"start"}},[a("el-col",{attrs:{span:12}},[a("el-avatar",{staticStyle:{float:"left"},attrs:{src:e.user.userface,size:150}})],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("p",[e._v(e._s(e.user.cname))]),e._v(" "),a("p",[e._v(e._s(e.user.intro))]),e._v(" "),a("el-button",{staticStyle:{float:"left"},on:{click:e.handleBox}},[e._v("查看百宝箱")])],1)],1),e._v(" "),a("hr"),e._v(" "),a("ButterFlyInfo",{attrs:{"fly-owner":e.pageOwner}}),e._v(" "),a("Baibao",{attrs:{boxShow:e.boxShow}})],1)},staticRenderFns:[]};var q=a("VU/8")(A,V,!1,function(e){a("O1z2")},null,null).exports,T={name:"app",data:function(){return{pageOwner:"xx",boxShow:{show:!1},user:{birthday:"",name:"",cname:"",intro:"",userface:"",address:"",phone:""}}},methods:{startHacking:function(){this.$notify({title:"打开百宝箱ing",type:"success",message:"请等待",duration:5e3}),this.boxShow.show=!0},handleBox:function(){this.boxShow.show=!0},getOwnerInfo:function(){var e=this,t="http://101.43.166.211:8081/users/"+this.pageOwner+"/getInfo";this.$axios.get(t).then(function(a){console.log("request for user info from: "+t),e.user=a.data})}},created:function(){this.getOwnerInfo()},components:{ButterFlyInfo:R,Baibao:C}},B={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("el-row",{attrs:{type:"flex",align:"bottom",justify:"start"}},[a("el-col",{attrs:{span:12}},[a("el-avatar",{staticStyle:{float:"left"},attrs:{src:e.user.userface,size:150}})],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("p",[e._v(e._s(e.user.cname))]),e._v(" "),a("p",[e._v(e._s(e.user.intro))]),e._v(" "),a("el-button",{staticStyle:{float:"left"},on:{click:e.handleBox}},[e._v("查看百宝箱")])],1)],1),e._v(" "),a("hr"),e._v(" "),a("ButterFlyInfo",{attrs:{"fly-owner":e.pageOwner}}),e._v(" "),a("Baibao",{attrs:{boxShow:e.boxShow}})],1)},staticRenderFns:[]};var L=a("VU/8")(T,B,!1,function(e){a("sjlf")},null,null).exports,N={name:"app",data:function(){return{pageOwner:"gg",boxShow:{show:!1},user:{birthday:"",name:"",cname:"",intro:"",userface:"",address:"",phone:""}}},methods:{startHacking:function(){this.$notify({title:"打开百宝箱ing",type:"success",message:"请等待",duration:5e3}),this.boxShow.show=!0},handleBox:function(){this.boxShow.show=!0},getUsername:function(){var e="http://101.43.166.211:8081/users/currentUsername";this.$axios.get(e).then(function(t){console.log("request for user name from: "+e),console.log("and response for username: "+t.data)})},getOwnerInfo:function(){var e=this,t="http://101.43.166.211:8081/users/"+this.pageOwner+"/getInfo";this.$axios.get(t).then(function(a){console.log("request for user info from: "+t),e.user=a.data})}},created:function(){this.getOwnerInfo()},components:{ButterFlyInfo:R,Baibao:C}},M={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("el-row",{attrs:{type:"flex",align:"bottom",justify:"start"}},[a("el-col",{attrs:{span:12}},[a("el-avatar",{staticStyle:{float:"left"},attrs:{src:e.user.userface,size:150}})],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("p",[e._v(e._s(e.user.cname))]),e._v(" "),a("p",[e._v(e._s(e.user.intro))]),e._v(" "),a("el-button",{staticStyle:{float:"left"},on:{click:e.handleBox}},[e._v("查看百宝箱")])],1)],1),e._v(" "),a("hr"),e._v(" "),a("ButterFlyInfo",{attrs:{"fly-owner":e.pageOwner}}),e._v(" "),a("Baibao",{attrs:{boxShow:e.boxShow}})],1)},staticRenderFns:[]};var H=a("VU/8")(N,M,!1,function(e){a("HiCW")},null,null).exports,G={name:"PostLine",data:function(){return{items:[],record:{createTime:"",content:""},selectHappy:"2"}},mounted:function(){this.initPostLine()},methods:{initPostLine:function(){var e=this,t="http://101.43.166.211:8081/posts/all";this.$axios.get(t).then(function(a){console.log("request for all posts: "+t),e.items=a.data}),console.log("methods: initPostLine ok")},sendRecord:function(){var e=this;""==this.content?this.$alert("记录内容不能为空","抱歉",{confirmButtonText:"确定"}):this.postRequest("/setting/newItem",this.record).then(function(t){console.log("server ret: ",t),200==t.status?e.initTimeline():e.$alert("提交失败","警告",{confirmButtonText:"好吧"})})}},filters:{formatDate:function(e){var t=new Date(e),a=t.getFullYear(),n=t.getMonth()+1;n<10&&(n="0"+n);var o=t.getDate();o<10&&(o="0"+o);var r=t.getHours(),s=t.getMinutes(),i=t.getSeconds();return i<10&&(i="0"+i),a+"-"+n+"-"+o+" "+r+":"+s+":"+i}}},W={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"building"}},[a("div",{attrs:{id:"time-line"}},[a("span",[e._v("蝴蝶谷编年史")]),e._v(" "),a("el-tag",[e._v(" "+e._s(e.items.length)+" 条记录")]),e._v(" "),e._l(e.items,function(t){return a("div",{key:t.createTime,staticClass:"item"},[a("div",{staticClass:"item-index"},[e._v(e._s(e._f("formatDate")(t.createTime)))]),e._v(" "),a("div",{staticClass:"item-content"},[e._v(e._s(t.content))])])})],2)])},staticRenderFns:[]};var Y=a("VU/8")(G,W,!1,function(e){a("O4iq")},"data-v-09890352",null).exports,X={name:"Login",data:function(){return{loginForm:{loginName:"",password:""},responseResult:[]}},methods:{login:function(){var e,t=this,a=this;(e={loginName:this.loginForm.loginName,password:this.loginForm.password},g({url:"/api/login",method:"post",data:e})).then(function(e){if(console.log("login ok",e),200===e.data.code){var n=e.data.data,o=n.token,r=n.user;a.$store.commit("SET_TOKENN",o),a.$store.commit("SET_USER",r),console.log(a.$store.state.token);var s=t.$route.query.redirect;t.$router.replace({path:"/"===s||void 0===s?"/":s})}})}}},J={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("body",{attrs:{id:"login-page"}},[a("el-form",{staticClass:"login-container",attrs:{"label-position":"left","label-width":"0px"}},[a("h3",{staticClass:"login_title"},[e._v("系统登录")]),e._v(" "),a("el-form-item",[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.loginForm.loginName,callback:function(t){e.$set(e.loginForm,"loginName",t)},expression:"loginForm.loginName"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"100%",border:"none"},attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")])],1)],1)],1)},staticRenderFns:[]};var K=a("VU/8")(X,J,!1,function(e){a("Zu0P")},"data-v-168cbe25",null).exports,Q={name:"LogDetail",data:function(){return{msg:"生命指示器 ⏳",who:"天天",dayLeft:22580,lifeIndicator:{dayPassed:1,dayAll:33e3,userId:1}}},methods:{calculatePerc:function(){var e=this.lifeIndicator.dayPassed/this.lifeIndicator.dayAll*100;return""+(e=e.toFixed(2))},callGetLifeIndicator:function(){var e=this;g({url:"/api/lifeIndicator",method:"get"}).then(function(t){200===t.status&&200==t.data.status&&(e.lifeIndicator=t.data.obj,e.dayLeft=e.lifeIndicator.dayAll-e.lifeIndicator.dayPassed,e.who=e.lifeIndicator.username)})}},created:function(){this.callGetLifeIndicator()}},Z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"text-align":"left"}},[a("h1",[e._v(e._s(e.msg))]),e._v(" "),a("ul",[a("li",[e._v(" 🔺"+e._s(this.$store.state.user.cname)+" has  "),a("strong",[e._v(e._s(e.lifeIndicator.dayPassed))]),e._v("   days used")]),e._v(" "),a("li",[e._v(" 🔻"+e._s(this.$store.state.user.cname)+"  has "),a("strong",[e._v(e._s(e.dayLeft))]),e._v(" days more ")])]),e._v(" "),a("el-progress",{attrs:{"text-inside":!0,"stroke-width":26,percentage:e.calculatePerc()}}),e._v(" "),a("a",[e._v("DreamList")])],1)},staticRenderFns:[]};var ee={name:"Home",data:function(){return{pageOwner:"gg",boxShow:{show:!1},user:{birthday:"",name:"",cname:"",intro:"",userface:"",address:"",phone:""}}},methods:{handleBox:function(){this.boxShow.show=!0},ping:function(){var e;g({url:"/api/ping",method:"get",data:e}).then(function(e){console.log("wow ping return: ",e)})},setOwner:function(){this.pageOwner=this.$store.state.user.name},avatarClick:function(){console.log("avatar clicked"),this.$router.push({path:"/profile"})}},created:function(){this.setOwner()},components:{ButterFlyInfo:R,Baibao:C,LifeIndicator:a("VU/8")(Q,Z,!1,function(e){a("9wuV")},"data-v-07f5feff",null).exports}},te={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"home-container"},[a("el-header",{staticStyle:{"margin-right":"15px",width:"100%"}},[a("span",{staticClass:"head-intro"},[e._v(e._s(this.$store.state.user.intro))]),e._v(" "),a("span",{on:{click:function(t){return e.avatarClick()}}},[a("el-avatar",{staticStyle:{color:"#222",float:"left","margin-top":"20px"},attrs:{src:this.$store.state.user.userface,size:50}})],1),e._v(" "),a("span",{staticStyle:{color:"#222","padding-top":"20px",float:"left","font-weight":"bold","font-size":"20px",margin:"8px"}},[e._v(e._s(this.$store.state.user.cname)+"\n    ")]),e._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{size:"small"},on:{click:e.handleBox}},[e._v("\n      查看百宝箱\n    ")])],1),e._v(" "),a("el-container",[a("el-main",[a("life-indicator"),e._v(" "),a("ButterFlyInfo",{attrs:{"fly-owner":e.pageOwner}}),e._v(" "),a("Baibao",{attrs:{boxShow:e.boxShow}})],1)],1)],1)},staticRenderFns:[]};var ae=a("VU/8")(ee,te,!1,function(e){a("4cbW")},null,null).exports,ne={name:"ImgUpload",data:function(){return{fileList:[],api_endpoint:"http://101.43.166.211:8081/api/sixlog/covers",url:""}},methods:{handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},handleExceed:function(e,t){this.$message({type:"warning",message:"当前限制选择 1 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件"})},beforeRemove:function(e,t){return this.$message("确定移除 "+e.name+"？")},handleSuccess:function(e){this.url=e,console.log("img uploaded to",this.url),this.$emit("onUpload"),this.$message("上传成功")},handleError:function(e){console.log("err: ",e)},clear:function(){this.$refs.upload.clearFiles()},uploadImage:function(e){var t=this,a=e.file,n=-1!=a.type.indexOf("image");t.$refs.upload.uploadFiles[0].url;if(console.log("file is ",a),!(a.size/1024/1024<2))return alert("图片大小不能超过2M"),void(t.$refs.upload.uploadFiles=[]);if(!n)return alert("请选择图片文件"),void(t.$refs.upload.uploadFiles=[]);if(n){console.log("ready to upload imge");var o=new FormData;o.append("file",a),console.log("before img send, formData: ",o),_(o).then(function(e){console.log("server resp: ",e),t.url=e.data,t.$emit("onUpload"),t.$message("上传成功")})}}}},oe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-upload",{ref:"upload",staticClass:"img-upload",attrs:{action:"","with-credentials":"","on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,"on-success":e.handleSuccess,"on-error":e.handleError,multiple:"",limit:1,"on-exceed":e.handleExceed,"file-list":e.fileList,"http-request":e.uploadImage}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传一张jpg/png文件，且不超过500kb")])],1)},staticRenderFns:[]};var re={name:"SixLog",data:function(){return{articles:[],pageSize:5,total:0,keywords:"",sixlog:{articleAbstract:"",articleCover:"",articleTitle:""},dialogVisible:!1}},mounted:function(){this.loadArticles(),this.loadLogsAmount()},methods:{loadArticles:function(){var e=this;v(this.pageSize,1).then(function(t){console.log("api/sixlog return: ",t),t&&200===t.status&&(e.articles=t.data)})},loadLogsAmount:function(){var e=this;b().then(function(t){console.log("/api/sixlog/getTotalAmount return: ",t),t&&200===t.status&&(e.total=t.data.obj)})},handleCurrentChange:function(e){var t=this;v(this.pageSize,e).then(function(e){e&&200===e.status&&(t.articles=e.data)}),b().then(function(e){t.total=e.data.obj})},sendSixLog:function(){var e,t=this;console.log("ready to send sixlog to main server"),(e={articleTitle:this.sixlog.articleTitle,articleAbstract:this.sixlog.articleAbstract,articleCover:this.sixlog.articleCover},g({url:"/api/sixlog/add",method:"post",data:e})).then(function(e){e&&200===e.status&&t.$message({type:"info",message:"已为您成功录入浮生记录"})})},uploadImg:function(){this.sixlog.articleCover=this.$refs.imgUpload.url}},components:{ImgUpload:a("VU/8")(ne,oe,!1,function(e){a("w40n")},"data-v-984ef844",null).exports}},se={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-menu",{attrs:{mode:"horizontal","background-color":"white","text-color":"#222","active-text-color":"red"}},[a("el-menu-item",[a("a",{attrs:{href:"#/home"}},[e._v("返回主站")])]),e._v(" "),a("span",{staticStyle:{position:"absolute","padding-top":"20px",right:"43%","font-size":"20px","font-weight":"bold"}},[e._v("\n      浮生六记\n    ")])],1),e._v(" "),a("div",{staticClass:"main_list"},[a("el-row",{staticStyle:{"margin-bottom":"8px"}},[a("el-col",{attrs:{span:24}},[a("el-input",{staticStyle:{margin:"0px 0px","font-size":"20px"},attrs:{type:"textarea",rows:"3",placeholder:"1. 请输入日志"},model:{value:e.sixlog.articleTitle,callback:function(t){e.$set(e.sixlog,"articleTitle",t)},expression:"sixlog.articleTitle"}})],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-bottom":"30px"}},[a("el-col",{attrs:{span:8}},[a("el-button",{on:{click:function(t){e.dialogVisible=!0}}},[e._v("2. 添加图片")])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-button",{on:{click:e.sendSixLog}},[e._v("3. 写入记录 ")])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-button",{on:{click:e.loadArticles}},[e._v("4. 刷新记录 ")])],1)],1),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogVisible,width:"90%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-divider",{attrs:{"content-position":"left"}},[e._v("图片备注")]),e._v(" "),a("el-input",{attrs:{type:"textarea",rows:"1",maxlength:"50","show-word-limit":""},model:{value:e.sixlog.articleAbstract,callback:function(t){e.$set(e.sixlog,"articleAbstract",t)},expression:"sixlog.articleAbstract"}}),e._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[e._v("封面")]),e._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"图片 URL"},model:{value:e.sixlog.articleCover,callback:function(t){e.$set(e.sixlog,"articleCover",t)},expression:"sixlog.articleCover"}}),e._v(" "),a("img-upload",{ref:"imgUpload",staticStyle:{"margin-top":"5px"},on:{onUpload:e.uploadImg}})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)],1),e._v(" "),a("div",{staticStyle:{width:"100%","margin-top":"20px"}},[a("el-card",{staticStyle:{"text-align":"left",width:"100%"}},e._l(e.articles,function(t){return a("div",{key:t.id},[a("div",{staticStyle:{float:"left",width:"65%",height:"150px"}},[a("router-link",{staticClass:"article-link",attrs:{to:{path:"sixlog/article",query:{id:t.id}}}},[a("span",{staticStyle:{"font-size":"20px"}},[a("strong",[e._v(e._s(t.articleTitle))])])]),e._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[e._v(e._s(e._f("moment")(t.articleDate))+" by "+e._s(t.ownerName))]),e._v(" "),a("router-link",{staticClass:"article-link",attrs:{to:{path:"sixlog/article",query:{id:t.id}}}},[a("p",[e._v(e._s(t.articleAbstract))])])],1),e._v(" "),a("el-image",{staticStyle:{margin:"18px 0 0 30px",width:"200px",height:"200px"},attrs:{src:t.articleCover,fit:"cover"}}),e._v(" "),a("el-divider")],1)}),0)],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper","page-size":e.pageSize,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var ie=a("VU/8")(re,se,!1,function(e){a("/N6+")},"data-v-32aec483",null).exports,le={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"hello"},[t("h1",[this._v(this._s(this.msg))]),this._v(" "),t("h2",[this._v("Essentiadsdfl Links")]),this._v("s\n\n")])},staticRenderFns:[]};var ce=a("VU/8")({name:"LogDetail",data:function(){return{msg:"this is test page"}}},le,!1,function(e){a("202W")},"data-v-2b9aa82c",null).exports,ue=a("vwbq"),de={data:function(){return{}},methods:{draw:function(){var e=ue.e("body").append("div").attr("id","tooltip").attr("opacity",0),t=ue.e("svg"),a=+t.attr("width"),n=+t.attr("height"),o=(ue.f().size([n,a-160]),{top:10,right:10,bottom:10,left:10}),r=ue.d().x(function(e){return e.x}).y(function(e){return e.y});ue.c("https://picgorepo.oss-cn-beijing.aliyuncs.com/family_data/jiapu.json").then(function(a){console.log(a);var n=ue.b(a);n.x0=1,n.y0=0,n.descendants().forEach(function(e,t){e.id=t,e._children=e.children,e.depth&&7!==e.data.name.length&&(e.children=null)}),t.style("font","19px sans-serif").style("user-select","none");var s=t.append("g"),i=ue.g().scaleExtent([.5,20]).on("zoom",function(){s.attr("transform",ue.a.transform)});t.call(i);var l=s.append("g").attr("fill","none").attr("stroke","#555").attr("stroke-opacity",.4).attr("stroke-width",1.5),c=s.append("g").attr("cursor","pointer").attr("pointer-events","all");!function a(s){var i=ue.a&&ue.a.altKey?2500:250,u=n.descendants().reverse(),d=n.links(),f=1150+50*n.leaves().length,p=50+50*n.height;ue.f().size([f,p]).separation(function(e,t){return e.parent==t.parent?.5:2})(n);var m=n,h=n;n.eachBefore(function(e){e.x<m.x&&(m=e),e.x>h.x&&(h=e)});var g=h.x-m.x+o.top+o.bottom,v=t.transition().duration(i).attr("viewBox",[240,200,900,g]).tween("resize",window.ResizeObserver?null:function(){return function(){return t.dispatch("toggle")}}),b=c.selectAll("g").data(u,function(e){return e.id}),_=b.enter().append("g").attr("transform",function(e){return"translate("+s.x0+","+s.y0+")"}).attr("fill-opacity",0).attr("stroke-opacity",0).on("click",function(e){e.children=e.children?null:e._children,a(e)}).on("mousemove",function(t,a){var n=ue.a.pageX,o=ue.a.pageY+30;console.log("name is: "+t.data.name),console.log("pic is: "+t.data.pic);var r='<img height="100" width="100"  src="https://picgorepo.oss-cn-beijing.aliyuncs.com/moleSmallIcon.jpg"/><div>'+t.data.name+"</div><div>介绍</div>";t.data.pic&&(r='<img  height="100" width="100"  src="'+t.data.pic+'"/><div>'+t.data.name+"</div><div>介绍</div>",console.log("your output html is: "+r)),e.style("opacity",0),e.html(r).style("left",n-130+"px").style("top",o+"px").style("opacity",1)}).on("mouseout",function(t,a){e.style("opacity",0)});_.append("circle").attr("r",5).attr("fill",function(e){return e._children?"red":"#999"}).attr("stroke-width",1),_.append("text").attr("dy","0.31em").attr("x",function(e){return e._children?-6:6}).attr("text-anchor",function(e){return e._children?"end":"start"}).text(function(e){return e.data.name}).clone(!0).lower().attr("stroke-linejoin","round").attr("stroke-width",3).attr("stroke","#ccc");b.merge(_).transition(v).attr("transform",function(e){return"translate("+e.x+","+e.y+")"}).attr("fill-opacity",1).attr("stroke-opacity",1),b.exit().transition(v).remove().attr("transform",function(e){return"translate("+s.x+","+s.y+")"}).attr("fill-opacity",0).attr("stroke-opacity",0);var y=l.selectAll(".link").data(d,function(e){return e.target.id}),w=y.enter().append("path").attr("class","link");y.merge(w).transition(v).attr("d",r),y.exit().transition(v).remove().attr("d",function(e){var t={x:s.x,y:s.y};return r({source:t,target:t})}),n.eachBefore(function(e){e.x0=e.x,e.y0=e.y})}(n)})}},mounted:function(){this.draw()}},fe={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("家谱")]),this._v(" "),t("svg",{attrs:{width:"700",height:"1000"}})])},staticRenderFns:[]};var pe=a("VU/8")(de,fe,!1,function(e){a("/fYo")},null,null).exports,me={components:{},props:{},data:function(){return{people:[],defaultProps:{children:"children",label:"name"}}},computed:{},watch:{},methods:{getPeople:function(){var e=this;this.$axios({url:"https://picgorepo.oss-cn-beijing.aliyuncs.com/family_data/jiapu.json",method:"get"}).then(function(t){console.log("resp:::",t.data.children),e.people=t.data.children}).catch(function(){})},handleNodeClick:function(e){console.log(e)}},created:function(){this.getPeople()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},he={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("el-tree",{attrs:{data:this.people,props:this.defaultProps},on:{"node-click":this.handleNodeClick}})],1)},staticRenderFns:[]};var ge=a("VU/8")(me,he,!1,function(e){a("3CNq")},null,null).exports,ve={name:"Register",data:function(){return{registerForm:{name:"",password:"",birthday:new Date},pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()},shortcuts:[{text:"10年前",onClick:function(e){var t=new Date;t.setTime(t.getTime()-31536e7),e.$emit("pick",t)}},{text:"20年前",onClick:function(e){var t=new Date;t.setTime(t.getTime()-63072e7),e.$emit("pick",t)}}]}}},methods:{register:function(){var e,t=this;(e={name:this.registerForm.name,password:this.registerForm.password,birthday:this.registerForm.birthday},g({url:"/api/register",method:"post",data:e})).then(function(e){console.log("register resp",e),200==e.data.status&&t.$router.replace({path:"login"})})}}},be={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("body",{attrs:{id:"login-page"}},[a("el-form",{staticClass:"login-container",attrs:{"label-position":"left","label-width":"0px"}},[a("h3",{staticClass:"login_title"},[e._v("加入🦋元宇宙")]),e._v(" "),a("el-form-item",[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.registerForm.name,callback:function(t){e.$set(e.registerForm,"name",t)},expression:"registerForm.name"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}})],1),e._v(" "),a("el-form-item",[a("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"选择出生日期","picker-options":e.pickerOptions},model:{value:e.registerForm.birthday,callback:function(t){e.$set(e.registerForm,"birthday",t)},expression:"registerForm.birthday"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"头像，现在手动吧"},model:{value:e.registerForm.userface,callback:function(t){e.$set(e.registerForm,"userface",t)},expression:"registerForm.userface"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"100%",border:"none"},attrs:{type:"primary"},on:{click:e.register}},[e._v("注册")])],1)],1)],1)},staticRenderFns:[]};var _e=a("VU/8")(ve,be,!1,function(e){a("kwiG")},"data-v-6d6728c8",null).exports,ye={name:"Profile",data:function(){return{widgetDisable:!0,currentUser:{id:1,userface:"",name:"noname",cosmosId:"9909",password:"12333",intro:"无定位的我",birthday:"1994-01-22"},buttonText:"编辑我的信息"}},methods:{fetchUserInfo:function(){var e=this;y().then(function(t){console.log("profile :get : res:",t),e.currentUser=t.data.obj})},enterEditStatus:function(){var e,t=this;1==this.widgetDisable?(this.widgetDisable=!1,this.buttonText="确定更新我的信息"):(e=this.currentUser,g({url:"/api/user/profile",method:"post",data:e})).then(function(e){console.log("after api update user, res: ",e),200==e.data.status?(t.$store.commit("SET_USER_COSMOS_ID",t.currentUser.cosmosId),t.$message({type:"success",message:"更新我的信息完成"}),t.widgetDisable=!0,t.buttonText="编辑我的信息",t.fetchUserInfo()):t.$message({type:"warning",message:"更新我的信息失败"})})},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},handleExceed:function(e,t){this.$message({type:"warning",message:"当前限制选择 1 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件"})},beforeRemove:function(e,t){return this.$message("确定移除 "+e.name+"？")},handleSuccess:function(e){this.url=e,console.log("img uploaded to",this.url),this.$emit("onUpload"),this.$message("上传成功")},handleError:function(e){console.log("err: ",e)},clear:function(){this.$refs.upload.clearFiles()},uploadHeader:function(e){var t=this,a=this,n=e.file,o=-1!=n.type.indexOf("image");a.$refs.upload.uploadFiles[0].url;if(console.log("file is ",n),!(n.size/1024/1024<2))return alert("图片大小不能超过2M"),void(a.$refs.upload.uploadFiles=[]);if(!o)return alert("请选择图片文件"),void(a.$refs.upload.uploadFiles=[]);if(o){console.log("ready to upload header");var r=new FormData;r.append("file",n),_(r).then(function(e){console.log("server resp: ",e),t.currentUser.userface=e.data,a.$emit("onUpload"),a.$message("上传成功")})}}},mounted:function(){var e=this;y().then(function(t){console.log("profile :get : res:",t),e.currentUser=t.data.obj})}},we={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:18}},[a("el-form",{ref:"dataForm",model:{value:e.currentUser,callback:function(t){e.currentUser=t},expression:"currentUser"}},[a("el-form-item",{attrs:{prop:"userface"}},[a("el-avatar",{staticStyle:{color:"#222","margin-top":"20px"},attrs:{src:e.currentUser.userface,size:150}})],1),e._v(" "),a("el-form-item",[a("el-upload",{ref:"upload",staticClass:"img-upload",attrs:{action:"","with-credentials":"","on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,"on-success":e.handleSuccess,"on-error":e.handleError,multiple:"",limit:1,"on-exceed":e.handleExceed,"http-request":e.uploadHeader,disabled:e.widgetDisable}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传新头像")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"名字",prop:"name"}},[a("el-input",{attrs:{disabled:e.widgetDisable},model:{value:e.currentUser.name,callback:function(t){e.$set(e.currentUser,"name",t)},expression:"currentUser.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"登陆ID",prop:"cosmosId"}},[a("el-input",{attrs:{disabled:e.widgetDisable},model:{value:e.currentUser.cosmosId,callback:function(t){e.$set(e.currentUser,"cosmosId",t)},expression:"currentUser.cosmosId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{disabled:e.widgetDisable},model:{value:e.currentUser.password,callback:function(t){e.$set(e.currentUser,"password",t)},expression:"currentUser.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"生命起始日",prop:"birthday"}},[a("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"选择出生日期"},model:{value:e.currentUser.birthday,callback:function(t){e.$set(e.currentUser,"birthday",t)},expression:"currentUser.birthday"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"自我定位",prop:"intro"}},[a("el-input",{attrs:{disabled:e.widgetDisable},model:{value:e.currentUser.intro,callback:function(t){e.$set(e.currentUser,"intro",t)},expression:"currentUser.intro"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"预期寿命"}},[a("label",[e._v(" 100年 ")])]),e._v(" "),a("el-form-item",{attrs:{prop:"id"}},[a("label",[e._v("用户数据库id: "+e._s(e.currentUser.id))])])],1),e._v(" "),a("el-button",{on:{click:function(t){return e.enterEditStatus()}}},[e._v(e._s(e.buttonText))])],1)],1)],1)},staticRenderFns:[]},xe=a("VU/8")(ye,we,!1,null,null,null).exports;n.default.use(s.a);var je=new s.a({routes:[{path:"/",name:"Default",redirect:"/home",component:ae},{path:"/home",name:"Home",component:ae,meta:{requireAuth:!0}},{path:"/yy",name:"Yueyue",component:q},{path:"/xx",name:"Xinxin",component:L},{path:"/gg",name:"",component:H},{path:"/login",name:"Login",component:K},{path:"/valley",name:"PostLine",component:Y},{path:"/sixlog",name:"SixLog",component:ie},{path:"/sixlog/article",name:"LogDetail",component:ce},{path:"/jiapu",name:"JiaPu",component:pe},{path:"/jiapuoperation",name:"JiaPuOperationUI",component:ge},{path:"/register",name:"Register",component:_e},{path:"/profile",name:"Profile",component:xe}]}),ke=a("zL8q"),Se=a.n(ke),Fe=(a("tvR6"),a("PJh5")),$e=a.n(Fe);n.default.config.productionTip=!1,n.default.use(Se.a),n.default.filter("moment",function(e,t){return t=t||"YYYY-MM-DD HH:mm:ss",$e()(e).format("YYYY-MM-DD")}),n.default.prototype.$axios=u.a,je.beforeEach(function(e,t,a){e.meta.requireAuth?m.state.token?a():a({path:"/login",query:{redirect:e.fullPath}}):a()}),new n.default({el:"#app",router:je,store:m,components:{App:r},template:"<App/>"})},O1z2:function(e,t){},O4iq:function(e,t){},PnLf:function(e,t){},Y8zk:function(e,t){},Zu0P:function(e,t){},kwiG:function(e,t){},sjlf:function(e,t){},tvR6:function(e,t){},uslO:function(e,t,a){var n={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn-bd":"1C9R","./bn-bd.js":"1C9R","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-in":"yJfC","./en-in.js":"yJfC","./en-nz":"dyB6","./en-nz.js":"dyB6","./en-sg":"NYST","./en-sg.js":"NYST","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-mx":"USNP","./es-mx.js":"USNP","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fil":"rMbQ","./fil.js":"rMbQ","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./ga":"U5Iz","./ga.js":"U5Iz","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-deva":"VGQH","./gom-deva.js":"VGQH","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it-ch":"/E8D","./it-ch.js":"/E8D","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./oc-lnc":"KOFO","./oc-lnc.js":"KOFO","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tk":"+WRH","./tk.js":"+WRH","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-mo":"+WA1","./zh-mo.js":"+WA1","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function o(e){return a(r(e))}function r(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}o.keys=function(){return Object.keys(n)},o.resolve=r,e.exports=o,o.id="uslO"},vwVd:function(e,t){},w40n:function(e,t){},xJFc:function(e,t){},y4yP:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.67f973b38f9b9b7835ed.js.map